<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Ronin::Support::Network::HTTP::Request
  
    &mdash; Ronin::Support Documentation
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Ronin::Support::Network::HTTP::Request";
  relpath = '../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Support.html" title="Ronin::Support (module)">Support</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Network.html" title="Ronin::Support::Network (module)">Network</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../HTTP.html" title="Ronin::Support::Network::HTTP (class)">HTTP</a></span></span>
     &raquo; 
    <span class="title">Request</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Ronin::Support::Network::HTTP::Request
  
  
  <span class="private note title">Private</span>
</h1>
<div class="box_info">
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ronin/support/network/http/request.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This module is part of a private API.</strong>
  You should avoid using this module if possible, as it may be removed or be changed in the future.
</p>
<p>Handles building HTTP request objects.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="METHODS-constant" class="">METHODS =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>
<p>Request methods and <code>Net::HTTP</code> request classes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>copy:</span>      <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Copy</span><span class='comma'>,</span>
  <span class='label'>delete:</span>    <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Delete</span><span class='comma'>,</span>
  <span class='label'>get:</span>       <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Get</span><span class='comma'>,</span>
  <span class='label'>head:</span>      <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Head</span><span class='comma'>,</span>
  <span class='label'>lock:</span>      <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Lock</span><span class='comma'>,</span>
  <span class='label'>mkcol:</span>     <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Mkcol</span><span class='comma'>,</span>
  <span class='label'>move:</span>      <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Move</span><span class='comma'>,</span>
  <span class='label'>options:</span>   <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Options</span><span class='comma'>,</span>
  <span class='label'>patch:</span>     <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Patch</span><span class='comma'>,</span>
  <span class='label'>post:</span>      <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Post</span><span class='comma'>,</span>
  <span class='label'>propfind:</span>  <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Propfind</span><span class='comma'>,</span>
  <span class='label'>proppatch:</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Proppatch</span><span class='comma'>,</span>
  <span class='label'>put:</span>       <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Put</span><span class='comma'>,</span>
  <span class='label'>trace:</span>     <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Trace</span><span class='comma'>,</span>
  <span class='label'>unlock:</span>    <span class='const'>Net</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>Unlock</span>
<span class='rbrace'>}</span></pre></dd>
      
        <dt id="MIME_TYPES-constant" class="">MIME_TYPES =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>
<p>Common MIME types.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='label'>text:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/plain</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>xml:</span>  <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/xml</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>html:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>text/html</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
  <span class='label'>json:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span>
<span class='rbrace'>}</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="build (class method)">.<strong>build</strong>(method, path, query: nil, query_params: nil, user: nil, password: nil, headers: nil, content_type: nil, accept: nil, user_agent: nil, cookie: nil, body: nil, form_data: nil, json: nil)  &#x21d2; Net::HTTP::Copy, ... </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Creates a new <code>Net::HTTP</code> request.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#mime_type_for-class_method" title="mime_type_for (class method)">.<strong>mime_type_for</strong>(mime_type)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Resolves the MIME type.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#request_uri-class_method" title="request_uri (class method)">.<strong>request_uri</strong>(path, query: nil, query_params: nil)  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Builds the [Request-URI], aka path + query string, for a HTTP request.</p>
</div></span>
  
</li>

      
    </ul>
  



  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build-class_method">
  
    .<strong>build</strong>(method, path, query: nil, query_params: nil, user: nil, password: nil, headers: nil, content_type: nil, accept: nil, user_agent: nil, cookie: nil, body: nil, form_data: nil, json: nil)  &#x21d2; <tt>Net::HTTP::Copy</tt>, ... 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Creates a new <code>Net::HTTP</code> request.</p>

<p>The HTTP request method to use.</p>

<pre class="code ruby"><code class="ruby">The `User-Agent` header value for the request.
</code></pre>

<p>The built HTTP request object.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>method</span>
      
      
        <span class='type'>(<tt>:copy</tt>, <tt>:delete</tt>, <tt>:get</tt>, <tt>:head</tt>, <tt>:lock</tt>, <tt>:mkcol</tt>, <tt>:move</tt>, <tt>:options</tt>, <tt>:patch</tt>, <tt>:post</tt>, <tt>:propfind</tt>, <tt>:proppatch</tt>, <tt>:put</tt>, <tt>:trace</tt>, <tt>:unlock</tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
    <li>
      
        <span class='name'>query</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The query-string to append to the request path.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>query_params</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The query-params to append to the request path.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The user to authenticate as.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>password</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The password to authenticate with.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>headers</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; <span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span>}</tt>, <tt>Hash{<span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span>}</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional HTTP header names and values to add to the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>content_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>:text</tt>, <tt>:xml</tt>, <tt>:html</tt>, <tt>:json</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The <code>Content-Type</code> header value for the request.
If a Symbol is given it will be resolved to a common MIME type:</p>

<ul>
<li><code>:text</code> - <code>text/plain</code></li>
<li><code>:xml</code> - <code>text/xml</code></li>
<li><code>:html</code> - <code>text/html</code></li>
<li><code>:json</code> - <code>application/json</code></li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>accept</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>:text</tt>, <tt>:xml</tt>, <tt>:html</tt>, <tt>:json</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The <code>Accept</code> header value for the request.
If a Symbol is given it will be resolved to a common MIME type:</p>

<ul>
<li><code>:text</code> - <code>text/plain</code></li>
<li><code>:xml</code> - <code>text/xml</code></li>
<li><code>:html</code> - <code>text/html</code></li>
<li><code>:json</code> - <code>application/json</code></li>
</ul>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user_agent</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>:random</tt>, <tt>:chrome</tt>, <tt>:chrome_linux</tt>, <tt>:chrome_macos</tt>, <tt>:chrome_windows</tt>, <tt>:chrome_iphone</tt>, <tt>:chrome_ipad</tt>, <tt>:chrome_android</tt>, <tt>:firefox</tt>, <tt>:firefox_linux</tt>, <tt>:firefox_macos</tt>, <tt>:firefox_windows</tt>, <tt>:firefox_iphone</tt>, <tt>:firefox_ipad</tt>, <tt>:firefox_android</tt>, <tt>:safari</tt>, <tt>:safari_macos</tt>, <tt>:safari_iphone</tt>, <tt>:safari_ipad</tt>, <tt>:edge</tt>, <tt>:linux</tt>, <tt>:macos</tt>, <tt>:windows</tt>, <tt>:iphone</tt>, <tt>:ipad</tt>, <tt>:android</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
    <li>
      
        <span class='name'>cookie</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>Hash{<span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span>}</tt>, <tt><span class='object_link'><a href="Cookie.html" title="Ronin::Support::Network::HTTP::Cookie (class)">Cookie</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional <code>Cookie</code> header. If a <code>Hash</code> is given, it will be
converted to a <code>String</code> using <span class='object_link'><a href="Cookie.html" title="Ronin::Support::Network::HTTP::Cookie (class)">Cookie</a></span>. If the cookie value is
empty, the <code>Cookie</code> header will not be set.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>body</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The body of the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>form_data</span>
      
      
        <span class='type'>(<tt>Hash</tt>, <tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The form data that may be sent in the body of the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>json</span>
      
      
        <span class='type'>(<tt>#to_json</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The JSON data that will be sent in the body of the request.
Will also default the <code>Content-Type</code> header to <code>application/json</code>,
unless already set.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Net::HTTP::Copy</tt>, <tt>Net::HTTP::Delete</tt>, <tt>Net::HTTP::Get</tt>, <tt>Net::HTTP::Head</tt>, <tt>Net::HTTP::Lock</tt>, <tt>Net::HTTP::Mkcol</tt>, <tt>Net::HTTP::Move</tt>, <tt>Net::HTTP::Options</tt>, <tt>Net::HTTP::Patch</tt>, <tt>Net::HTTP::Post</tt>, <tt>Net::HTTP::Propfind</tt>, <tt>Net::HTTP::Proppatch</tt>, <tt>Net::HTTP::Put</tt>, <tt>Net::HTTP::Trace</tt>, <tt>Net::HTTP::Unlock</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/http/request.rb', line 212</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_build'>build</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='comma'>,</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='comment'># query string keyword arguments
</span>                            <span class='label'>query:</span>        <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>query_params:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='comment'># Basic-Auth keyword arguments
</span>                            <span class='label'>user:</span>     <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>password:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='comment'># Header keyword arguments
</span>                            <span class='label'>headers:</span>      <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>content_type:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>accept:</span>       <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>user_agent:</span>   <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>cookie:</span>       <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='comment'># request body keyword arguments
</span>                            <span class='label'>body:</span>      <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>form_data:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>json:</span>      <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_request_class'>request_class</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="#METHODS-constant" title="Ronin::Support::Network::HTTP::Request::METHODS (constant)">METHODS</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_method'>method</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unknown HTTP request method: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_request'>request</span> <span class='op'>=</span> <span class='id identifier rubyid_request_class'>request_class</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_request_uri'>request_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='label'>query_params:</span> <span class='id identifier rubyid_query_params'>query_params</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_headers'>headers</span>
  <span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_user'>user</span>
    <span class='id identifier rubyid_user'>user</span>     <span class='op'>=</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
    <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_password'>password</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='kw'>if</span> <span class='id identifier rubyid_password'>password</span>

    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_basic_auth'>basic_auth</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span><span class='id identifier rubyid_password'>password</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_content_type'>content_type</span>
    <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_mime_type_for'>mime_type_for</span><span class='lparen'>(</span><span class='id identifier rubyid_content_type'>content_type</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_accept'>accept</span>
    <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Accept</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_mime_type_for'>mime_type_for</span><span class='lparen'>(</span><span class='id identifier rubyid_accept'>accept</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_user_agent'>user_agent</span>
    <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>User-Agent</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_user_agent'>user_agent</span>
                            <span class='kw'>when</span> <span class='const'>Symbol</span> <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="UserAgents.html" title="Ronin::Support::Network::HTTP::UserAgents (module)">UserAgents</a></span></span><span class='lbracket'>[</span><span class='id identifier rubyid_user_agent'>user_agent</span><span class='rbracket'>]</span>
                            <span class='kw'>else</span>             <span class='id identifier rubyid_user_agent'>user_agent</span>
                            <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_cookie'>cookie</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_cookie'>cookie</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Cookie</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_cookie'>cookie</span>
                        <span class='kw'>when</span> <span class='const'>Hash</span> <span class='kw'>then</span> <span class='const'><span class='object_link'><a href="../HTTP.html" title="Ronin::Support::Network::HTTP (class)">HTTP</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Cookie.html" title="Ronin::Support::Network::HTTP::Cookie (class)">Cookie</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Cookie.html#initialize-instance_method" title="Ronin::Support::Network::HTTP::Cookie#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_cookie'>cookie</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'><span class='object_link'><a href="Cookie.html#to_s-instance_method" title="Ronin::Support::Network::HTTP::Cookie#to_s (method)">to_s</a></span></span>
                        <span class='kw'>else</span>           <span class='id identifier rubyid_cookie'>cookie</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
                        <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_json'>json</span>
    <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/json</span><span class='tstring_end'>&#39;</span></span>

    <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_json'>json</span><span class='period'>.</span><span class='id identifier rubyid_to_json'>to_json</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_form_data'>form_data</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_form_data'>form_data</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></span>
      <span class='id identifier rubyid_request'>request</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Content-Type</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>application/x-www-form-urlencoded</span><span class='tstring_end'>&#39;</span></span>

      <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>=</span> <span class='id identifier rubyid_form_data'>form_data</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_form_data'>form_data</span> <span class='op'>=</span> <span class='id identifier rubyid_form_data'>form_data</span>
    <span class='kw'>end</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_body'>body</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_body'>body</span>
    <span class='kw'>when</span> <span class='const'><span class='object_link'><a href="../../../../IO.html" title="IO (class)">IO</a></span></span><span class='comma'>,</span> <span class='const'>StringIO</span> <span class='kw'>then</span> <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body_stream'>body_stream</span> <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span>
    <span class='kw'>else</span>                   <span class='id identifier rubyid_request'>request</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span>        <span class='op'>=</span> <span class='id identifier rubyid_body'>body</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_request'>request</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="mime_type_for-class_method">
  
    .<strong>mime_type_for</strong>(mime_type)  &#x21d2; <tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Resolves the MIME type.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>mime_type</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>:text</tt>, <tt>:xml</tt>, <tt>:html</tt>, <tt>:json</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The MIME type String or Symbol.
If a Symbol is given it will be resolved to a common MIME type:</p>

<ul>
<li><code>:text</code> - <code>text/plain</code></li>
<li><code>:xml</code> - <code>text/xml</code></li>
<li><code>:html</code> - <code>text/html</code></li>
<li><code>:json</code> - <code>application/json</code></li>
</ul>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The resolved MIME type String.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt>ArgumentError</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An unknown Symbol is given.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124
125
126
127</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/http/request.rb', line 118</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_mime_type_for'>mime_type_for</span><span class='lparen'>(</span><span class='id identifier rubyid_mime_type'>mime_type</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_mime_type'>mime_type</span>
  <span class='kw'>when</span> <span class='const'>Symbol</span>
    <span class='const'><span class='object_link'><a href="#MIME_TYPES-constant" title="Ronin::Support::Network::HTTP::Request::MIME_TYPES (constant)">MIME_TYPES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='id identifier rubyid_mime_type'>mime_type</span><span class='rparen'>)</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_raise'>raise</span><span class='lparen'>(</span><span class='const'>ArgumentError</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>unsupported MIME type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_mime_type'>mime_type</span><span class='period'>.</span><span class='id identifier rubyid_inspect'>inspect</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_mime_type'>mime_type</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="request_uri-class_method">
  
    .<strong>request_uri</strong>(path, query: nil, query_params: nil)  &#x21d2; <tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Builds the <a href="https://www.w3.org/Protocols/rfc2616/rfc2616-sec5.html#sec5.1.2">Request-URI</a>, aka path + query string, for a HTTP
request.</p>

<p>Additional query params for the request.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The path of the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>query</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The optional query string for the request.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>query_params</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>, <tt>Hash{<span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span> =&gt; Object}</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>1.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57
58
59
60
61
62
63
64
65
66
67
68</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/http/request.rb', line 55</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request_uri'>request_uri</span><span class='lparen'>(</span><span class='id identifier rubyid_path'>path</span><span class='comma'>,</span> <span class='label'>query:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='label'>query_params:</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_query_params'>query_params</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../URI.html" title="URI (module)">URI</a></span></span><span class='op'>::</span><span class='const'>QueryParams</span><span class='period'>.</span><span class='id identifier rubyid_dump'>dump</span><span class='lparen'>(</span><span class='id identifier rubyid_query_params'>query_params</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span>
    <span class='comment'># append the query-string onto the path
</span>    <span class='id identifier rubyid_path'>path</span> <span class='op'>+=</span> <span class='kw'>if</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>?</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>then</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&amp;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>else</span>                       <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>?</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_query'>query</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
            <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>return</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Feb 14 23:30:16 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.6).
</div>

    </div>
  </body>
</html>