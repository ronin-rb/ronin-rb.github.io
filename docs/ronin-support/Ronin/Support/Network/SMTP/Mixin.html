<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Ronin::Support::Network::SMTP::Mixin
  
    &mdash; Ronin::Support Documentation
  
</title>

  <link rel="stylesheet" href="../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Ronin::Support::Network::SMTP::Mixin";
  relpath = '../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../_index.html">Index (M)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Support.html" title="Ronin::Support (module)">Support</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Network.html" title="Ronin::Support::Network (module)">Network</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../SMTP.html" title="Ronin::Support::Network::SMTP (module)">SMTP</a></span></span>
     &raquo; 
    <span class="title">Mixin</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Ronin::Support::Network::SMTP::Mixin
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../SSL/Mixin.html" title="Ronin::Support::Network::SSL::Mixin (module)">Ronin::Support::Network::SSL::Mixin</a></span></dd>
  </dl>
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../ESMTP/Mixin.html" title="Ronin::Support::Network::ESMTP::Mixin (module)">ESMTP::Mixin</a></span>, <span class='object_link'><a href="../Mixin.html" title="Ronin::Support::Network::Mixin (module)">Mixin</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ronin/support/network/smtp/mixin.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Provides helper methods for communicating with SMTP services.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DEFAULT_PORT-constant" class="">DEFAULT_PORT =
          <div class="docstring">
  <div class="discussion">
    <p>Default SMTP port</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='int'>25</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#message-class_method" title="message (class method)">.<strong>message</strong>(**kwargs) {|email| ... } &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a properly formatted email.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#smtp_connect-instance_method" title="#smtp_connect (instance method)">#<strong>smtp_connect</strong>(host, user:, password:, port: DEFAULT_PORT, ssl: nil, helo: &#39;localhost&#39;, auth: :login) {|smtp| ... } &#x21d2; Net::SMTP<sup>?</sup> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a connection to the SMTP server.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#smtp_message-instance_method" title="#smtp_message (instance method)">#<strong>smtp_message</strong>(**kwargs) {|email| ... } &#x21d2; Email </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new email message.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#smtp_send_message-instance_method" title="#smtp_send_message (instance method)">#<strong>smtp_send_message</strong>(host, user:, password:, port: DEFAULT_PORT, ssl: nil, helo: &#39;localhost&#39;, auth: :login, from: nil, to: nil, subject: nil, date: Time.now, message_id: nil, headers: nil, body: nil) {|email| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Connects to an SMTP server and sends a message.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../SSL/Mixin.html" title="Ronin::Support::Network::SSL::Mixin (module)">Ronin::Support::Network::SSL::Mixin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../SSL/Mixin.html#ssl_accept-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_accept (method)">#ssl_accept</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_banner-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_banner (method)">#ssl_banner</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_cert-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_cert (method)">#ssl_cert</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_connect-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_connect (method)">#ssl_connect</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_connect_and_send-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_connect_and_send (method)">#ssl_connect_and_send</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_context-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_context (method)">#ssl_context</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_open%3F-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_open? (method)">#ssl_open?</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_send-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_send (method)">#ssl_send</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_server_loop-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_server_loop (method)">#ssl_server_loop</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_server_socket-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_server_socket (method)">#ssl_server_socket</a></span>, <span class='object_link'><a href="../SSL/Mixin.html#ssl_socket-instance_method" title="Ronin::Support::Network::SSL::Mixin#ssl_socket (method)">#ssl_socket</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../TCP/Mixin.html" title="Ronin::Support::Network::TCP::Mixin (module)">TCP::Mixin</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../TCP/Mixin.html#tcp_accept-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_accept (method)">#tcp_accept</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_banner-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_banner (method)">#tcp_banner</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_connect-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_connect (method)">#tcp_connect</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_connect_and_send-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_connect_and_send (method)">#tcp_connect_and_send</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_open%3F-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_open? (method)">#tcp_open?</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_send-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_send (method)">#tcp_send</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_server-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_server (method)">#tcp_server</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_server_loop-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_server_loop (method)">#tcp_server_loop</a></span>, <span class='object_link'><a href="../TCP/Mixin.html#tcp_server_session-instance_method" title="Ronin::Support::Network::TCP::Mixin#tcp_server_session (method)">#tcp_server_session</a></span></p>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="message-class_method">
  
    .<strong>message</strong>(**kwargs) {|email| ... } &#x21d2; <tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a properly formatted email.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>kwargs</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Additional keyword arguments for
<span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">Email#initialize</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>email</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a block is given, it will be passed the newly created
<span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span> object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>email</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new Email object.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Formatted SMTP email.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">Email#initialize</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


64
65
66</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/smtp/mixin.rb', line 64</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_message'>message</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_s'><span class='object_link'><a href="Email.html#to_s-instance_method" title="Ronin::Support::Network::SMTP::Email#to_s (method)">to_s</a></span></span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="smtp_connect-instance_method">
  
    #<strong>smtp_connect</strong>(host, user:, password:, port: DEFAULT_PORT, ssl: nil, helo: &#39;localhost&#39;, auth: :login) {|smtp| ... } &#x21d2; <tt>Net::SMTP</tt><sup>?</sup> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a connection to the SMTP server.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_smtp_connect'>smtp_connect</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>user:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span></code></pre>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_smtp_connect'>smtp_connect</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='label'>user:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>host</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The host to connect to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The user-name to authenticate with.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>password</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The password to authenticate with.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>port</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_PORT</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The port to connect to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ssl</span>
      
      
        <span class='type'>(<tt>Boolean</tt>, <tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional SSL options.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>helo</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;localhost&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The HELO domain.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>auth</span>
      
      
        <span class='type'>(<tt>:login</tt>, <tt>:plain</tt>, <tt>:cram_md5</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:login</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The type of authentication to use. Can be either <code>:login</code>,
<code>:plain</code>, or <code>:cram_md5</code>.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>ssl:</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:verify</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Specifies that the SSL certificate should be verified.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:certs</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path to the file containing CA certs of the server.</p>
</div>
          
        </li>
      
    </ul>
  
    
    
    
    

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>smtp</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a block is given, it will be passed an SMTP session object.
Once the block returns the SMTP session will be closed.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>smtp</span>
      
      
        <span class='type'>(<tt>Net::SMTP</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The SMTP session.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Net::SMTP</tt>, <tt>nil</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The SMTP session. If a block is given, then <code>nil</code> will be
returned.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/smtp/mixin.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_smtp_connect'>smtp_connect</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='comma'>,</span>
                       <span class='label'>password:</span> <span class='comma'>,</span> <span class='label'>port:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_PORT-constant" title="Ronin::Support::Network::SMTP::Mixin::DEFAULT_PORT (constant)">DEFAULT_PORT</a></span></span><span class='comma'>,</span>
                       <span class='label'>ssl:</span>  <span class='kw'>nil</span><span class='comma'>,</span>
                       <span class='label'>helo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                       <span class='label'>auth:</span> <span class='symbol'>:login</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_host'>host</span>     <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../DNS.html" title="Ronin::Support::Network::DNS (module)">DNS</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../DNS.html#IDN-constant" title="Ronin::Support::Network::DNS::IDN (constant)">IDN</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_ascii'>to_ascii</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_user'>user</span>     <span class='op'>=</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='id identifier rubyid_password'>password</span> <span class='op'>=</span> <span class='id identifier rubyid_password'>password</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>

  <span class='kw'>case</span> <span class='id identifier rubyid_ssl'>ssl</span>
  <span class='kw'>when</span> <span class='const'>Hash</span>
    <span class='id identifier rubyid_ssl'>ssl</span>     <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_context'>ssl_context</span><span class='lparen'>(</span><span class='id identifier rubyid_ssl'>ssl</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='const'>TrueClass</span>
    <span class='id identifier rubyid_ssl'>ssl</span>     <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_context'>context</span> <span class='op'>=</span> <span class='id identifier rubyid_ssl_context'>ssl_context</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_smtp'>smtp</span> <span class='op'>=</span> <span class='const'>Net</span><span class='op'>::</span><span class='const'>SMTP</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span><span class='id identifier rubyid_port'>port</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_smtp'>smtp</span><span class='period'>.</span><span class='id identifier rubyid_enable_starttls'>enable_starttls</span><span class='lparen'>(</span><span class='id identifier rubyid_context'>context</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_ssl'>ssl</span>
  <span class='id identifier rubyid_smtp'>smtp</span><span class='period'>.</span><span class='id identifier rubyid_start'>start</span><span class='lparen'>(</span><span class='id identifier rubyid_helo'>helo</span><span class='comma'>,</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span><span class='id identifier rubyid_password'>password</span><span class='comma'>,</span><span class='id identifier rubyid_auth'>auth</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_smtp'>smtp</span>
    <span class='id identifier rubyid_smtp'>smtp</span><span class='period'>.</span><span class='id identifier rubyid_finish'>finish</span>
  <span class='kw'>else</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_smtp'>smtp</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="smtp_message-instance_method">
  
    #<strong>smtp_message</strong>(**kwargs) {|email| ... } &#x21d2; <tt><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a new email message.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>kwargs</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Additional keyword arguments for
<span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">Email#initialize</a></span>.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>email</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed the new email.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>email</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new email.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>the new email message object.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">Email#initialize</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/smtp/mixin.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_smtp_message'>smtp_message</span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">Email</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="Email.html#initialize-instance_method" title="Ronin::Support::Network::SMTP::Email#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="smtp_send_message-instance_method">
  
    #<strong>smtp_send_message</strong>(host, user:, password:, port: DEFAULT_PORT, ssl: nil, helo: &#39;localhost&#39;, auth: :login, from: nil, to: nil, subject: nil, date: Time.now, message_id: nil, headers: nil, body: nil) {|email| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Connects to an SMTP server and sends a message.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_smtp_send_message'>smtp_send_message</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                  <span class='label'>to:</span>         <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                  <span class='label'>from:</span>       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eve@example.com</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                  <span class='label'>subject:</span>    <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                  <span class='label'>message_id:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>XXXX</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                  <span class='label'>body:</span>       <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span></code></pre>
    
      
        <p class="example_title"><div class='inline'><p>Using the block:</p>
</div></p>
      
      <pre class="example code"><code><span class='id identifier rubyid_smtp_send_message'>smtp_send_message</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>www.example.com</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_email'>email</span><span class='op'>|</span>
  <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>joe@example.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_from'>from</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>eve@example.com</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_message_id'>message_id</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>XXXXXXXXXX</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>Hello!</span><span class='tstring_end'>&#39;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>host</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The host to connect to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>port</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../Integer.html" title="Integer (class)">Integer</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>DEFAULT_PORT</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The port to connect to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The user to authenticate as.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>password</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The password to authenticate with.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ssl</span>
      
      
        <span class='type'>(<tt>Boolean</tt>, <tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional SSL options.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>helo</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>&#39;localhost&#39;</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The HELO domain.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>auth</span>
      
      
        <span class='type'>(<tt>:login</tt>, <tt>:plain</tt>, <tt>:cram_md5</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>:login</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The type of authentication to use. Can be either <code>:login</code>,
<code>:plain</code>, or <code>:cram_md5</code>.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>from</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The address the email is from.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>to</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../Array.html" title="Array (class)">Array</a></span></tt>, <tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The address that the email should be sent to.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>subject</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The subject of the email.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>message_id</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Message-ID of the email.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>date</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt>Time</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Time.now</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The date the email was sent on.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>headers</span>
      
      
        <span class='type'>(<tt>Hash&lt;<span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span> =&gt; <span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span>}</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>Additional headers.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>body</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>, <tt><span class='object_link'><a href="../../../../Array.html" title="Array (class)">Array</a></span>&lt;<span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span>&gt;</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>nil</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The body of the email.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>ssl:</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:verify</span>
          <span class="type">(<tt>Boolean</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>Specifies that the SSL certificate should be verified.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:certs</span>
          <span class="type">(<tt><span class='object_link'><a href="../../../../String.html" title="String (class)">String</a></span></tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The path to the file containing CA certs of the server.</p>
</div>
          
        </li>
      
    </ul>
  
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>email</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed the new email to be sent.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>email</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Email.html" title="Ronin::Support::Network::SMTP::Email (class)">SMTP::Email</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The new email to be sent.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#smtp_connect-instance_method" title="Ronin::Support::Network::SMTP::Mixin#smtp_connect (method)">#smtp_connect</a></span></li>
    
  </ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/support/network/smtp/mixin.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_smtp_send_message'>smtp_send_message</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span> <span class='label'>user:</span> <span class='comma'>,</span>
                            <span class='label'>password:</span> <span class='comma'>,</span>
                            <span class='comment'># smtp options
</span>                            <span class='label'>port:</span> <span class='const'><span class='object_link'><a href="#DEFAULT_PORT-constant" title="Ronin::Support::Network::SMTP::Mixin::DEFAULT_PORT (constant)">DEFAULT_PORT</a></span></span><span class='comma'>,</span>
                            <span class='label'>ssl:</span>  <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>helo:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>localhost</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
                            <span class='label'>auth:</span> <span class='symbol'>:login</span><span class='comma'>,</span>
                            <span class='comment'># email options
</span>                            <span class='label'>from:</span>       <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>to:</span>         <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>subject:</span>    <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>date:</span>       <span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span><span class='comma'>,</span>
                            <span class='label'>message_id:</span> <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>headers:</span>    <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='label'>body:</span>       <span class='kw'>nil</span><span class='comma'>,</span>
                            <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_email'>email</span> <span class='op'>=</span> <span class='id identifier rubyid_smtp_message'>smtp_message</span><span class='lparen'>(</span>
    <span class='label'>to:</span>         <span class='id identifier rubyid_to'>to</span><span class='comma'>,</span>
    <span class='label'>subject:</span>    <span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span>
    <span class='label'>date:</span>       <span class='id identifier rubyid_date'>date</span><span class='comma'>,</span>
    <span class='label'>message_id:</span> <span class='id identifier rubyid_message_id'>message_id</span><span class='comma'>,</span>
    <span class='label'>headers:</span>    <span class='id identifier rubyid_headers'>headers</span><span class='comma'>,</span>
    <span class='label'>body:</span>       <span class='id identifier rubyid_body'>body</span><span class='comma'>,</span>
    <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_smtp_connect'>smtp_connect</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span><span class='id identifier rubyid_password'>password</span><span class='comma'>,</span>
               <span class='label'>port:</span> <span class='id identifier rubyid_port'>port</span><span class='comma'>,</span> <span class='label'>ssl:</span> <span class='id identifier rubyid_ssl'>ssl</span><span class='comma'>,</span> <span class='label'>helo:</span> <span class='id identifier rubyid_helo'>helo</span><span class='comma'>,</span> <span class='label'>auth:</span> <span class='id identifier rubyid_auth'>auth</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_smtp'>smtp</span><span class='op'>|</span>
    <span class='id identifier rubyid_smtp'>smtp</span><span class='period'>.</span><span class='id identifier rubyid_send_message'>send_message</span><span class='lparen'>(</span><span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_from'>from</span><span class='comma'>,</span> <span class='id identifier rubyid_email'>email</span><span class='period'>.</span><span class='id identifier rubyid_to'>to</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Dec 15 16:44:16 2023 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.34 (ruby-3.1.4).
</div>

    </div>
  </body>
</html>