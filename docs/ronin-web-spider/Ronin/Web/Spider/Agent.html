<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Ronin::Web::Spider::Agent
  
    &mdash; Ronin::Web::Spider Documentation
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Ronin::Web::Spider::Agent";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Ronin.html" title="Ronin (module)">Ronin</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Web.html" title="Ronin::Web (module)">Web</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Spider.html" title="Ronin::Web::Spider (module)">Spider</a></span></span>
     &raquo; 
    <span class="title">Agent</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Ronin::Web::Spider::Agent
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Spidr::Agent</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Spidr::Agent</li>
          
            <li class="next">Ronin::Web::Spider::Agent</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ronin/web/spider/agent.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>Extends <a href="https://rubydoc.info/gems/spidr/Agent">Spidr::Agent</a>.</p>


  </div>
</div>
<div class="tags">
  

</div>
  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="JAVASCRIPT_INLINE_REGEX_REGEX-constant" class="">JAVASCRIPT_INLINE_REGEX_REGEX =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>
<p>Regex to match and skip JavaScript inline regexes.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.1</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
  (?# match before the regex to avoid matching division operators )
  (?:[\{\[\(;:,]\s*|=\s*|return\s*)
  /
    (?# inline regex contents )
    (?:
      \[ (?:\\. | [^\]]) \] (?# [...] ) |
      \\.                   (?# backslash escaped characters ) |
      [^/]                  (?# everything else )
    )+
  /[dgimsuvy]* (?# also match any regex flags )
</span><span class='regexp_end'>}mx</span></span></pre></dd>
      
        <dt id="JAVASCRIPT_TEMPLATE_LITERAL_REGEX-constant" class="">JAVASCRIPT_TEMPLATE_LITERAL_REGEX =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This regex will not properly match nested template literals:</p>

<pre class="code javascript"><code class="javascript">`foo ${`bar ${1+1}`}`
</code></pre>
</div>
  </div>

<p>Regex to match and skip JavaScript template literals.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.1.1</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>`(?:\\`|[^`])+`</span><span class='regexp_end'>/m</span></span></pre></dd>
      
        <dt id="JAVASCRIPT_RELATIVE_PATH_REGEX-constant" class="">JAVASCRIPT_RELATIVE_PATH_REGEX =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class='inline'><p>This matches <code>foo/bar</code>, <code>foo/bar.ext</code>, <code>../foo</code>, and <code>foo.ext</code>,
but <em>not</em> <code>/foo</code>, <code>foo</code>, or <code>foo.</code>.</p>
</div>
  </div>

<p>Regular expression that matches relative paths within JavaScript.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>
  \A
    (?:
       [^/\\. ]+\.[a-z0-9]+ (?# filename.ext)
       |
       [^/\\ ]+(?:/[^/\\ ]+)+ (?# dir/filename or dir/filename.ext)
    )
  \z
</span><span class='regexp_end'>}x</span></span></pre></dd>
      
        <dt id="JAVASCRIPT_ABSOLUTE_PATH_REGEX-constant" class="">JAVASCRIPT_ABSOLUTE_PATH_REGEX =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>
<p>Regular expression that matches absolute paths within JavaScript.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>%r{</span><span class='tstring_content'>\A(?:/[^/\\ ]+)+\z</span><span class='regexp_end'>}</span></span></pre></dd>
      
        <dt id="URL_REGEX-constant" class="">URL_REGEX =
          <div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This constant is part of a private API.</strong>
  You should avoid using this constant if possible, as it may be removed or be changed in the future.
</p>
<p>Regular expression for identifying URLs.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div>
        </dt>
        <dd><pre class="code"><span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>\A</span><span class='embexpr_beg'>#{</span><span class='const'>Support</span><span class='op'>::</span><span class='const'>Text</span><span class='op'>::</span><span class='const'>Patterns</span><span class='op'>::</span><span class='const'>URL</span><span class='embexpr_end'>}</span><span class='tstring_content'>\z</span><span class='regexp_end'>/</span></span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#collected_certs-instance_method" title="#collected_certs (instance method)">#<strong>collected_certs</strong>  &#x21d2; Array&lt;Ronin::Support::Crypto::Cert&gt; </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>All certificates encountered while spidering.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#visited_hosts-instance_method" title="#visited_hosts (instance method)">#<strong>visited_hosts</strong>  &#x21d2; Set&lt;String&gt;<sup>?</sup> </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>The visited host names.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_cert-instance_method" title="#every_cert (instance method)">#<strong>every_cert</strong> {|cert| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every unique TLS certificate to the given block and populates <span class='object_link'><a href="#collected_certs-instance_method" title="Ronin::Web::Spider::Agent#collected_certs (method)">#collected_certs</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_comment-instance_method" title="#every_comment (instance method)">#<strong>every_comment</strong> {|comment| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every HTML and JavaScript comment to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_favicon-instance_method" title="#every_favicon (instance method)">#<strong>every_favicon</strong> {|favicon| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Pass every favicon from every page to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_host-instance_method" title="#every_host (instance method)">#<strong>every_host</strong> {|host| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every unique host name that the agent visits to the given block and populates <span class='object_link'><a href="#visited_hosts-instance_method" title="Ronin::Web::Spider::Agent#visited_hosts (method)">#visited_hosts</a></span>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_html_comment-instance_method" title="#every_html_comment (instance method)">#<strong>every_html_comment</strong> {|comment| ... } &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every non-empty HTML comment to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript-instance_method" title="#every_javascript (instance method)">#<strong>every_javascript</strong> {|js| ... } &#x21d2; Object </a>
    

    
      (also: #every_js)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every piece of JavaScript to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_absolute_path_string-instance_method" title="#every_javascript_absolute_path_string (instance method)">#<strong>every_javascript_absolute_path_string</strong> {|string| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_absolute_path_string)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript absolute path string to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_comment-instance_method" title="#every_javascript_comment (instance method)">#<strong>every_javascript_comment</strong> {|comment| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_comment)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript comment to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_path_string-instance_method" title="#every_javascript_path_string (instance method)">#<strong>every_javascript_path_string</strong> {|string| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_path_string)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript path string to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_relative_path_string-instance_method" title="#every_javascript_relative_path_string (instance method)">#<strong>every_javascript_relative_path_string</strong> {|string| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_relative_path_string)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript relative path string to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_string-instance_method" title="#every_javascript_string (instance method)">#<strong>every_javascript_string</strong> {|string| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_string)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript string value to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#every_javascript_url_string-instance_method" title="#every_javascript_url_string (instance method)">#<strong>every_javascript_url_string</strong> {|string| ... } &#x21d2; Object </a>
    

    
      (also: #every_js_url_string)
    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Passes every JavaScript URL string to the given block.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(proxy: Support::Network::HTTP.proxy, user_agent: Support::Network::HTTP.user_agent, **kwargs) {|agent| ... } &#x21d2; Agent </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Creates a new Spider object.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(proxy: Support::Network::HTTP.proxy, user_agent: Support::Network::HTTP.user_agent, **kwargs) {|agent| ... } &#x21d2; <tt><span class='object_link'><a href="" title="Ronin::Web::Spider::Agent (class)">Agent</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Creates a new Spider object.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>proxy</span>
      
      
        <span class='type'>(<tt>Spidr::Proxy</tt>, <tt>Addressable::URI</tt>, <tt>URI::HTTP</tt>, <tt>Hash</tt>, <tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Support::Network::HTTP.proxy</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The proxy to use while spidering.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>user_agent</span>
      
      
        <span class='type'>(<tt>String</tt>, <tt>nil</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>Support::Network::HTTP.user_agent</tt>)</em>
      
      
        &mdash;
        <div class='inline'><p>The User-Agent string to send.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>kwargs</span>
      
      
        <span class='type'>(<tt>Hash{Symbol =&gt; Object}</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Additional keyword arguments for <code>Spidr::Agent#initialize</code>.</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    
    
    <p class="tag_title">Options Hash (<tt>**kwargs</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:referer</span>
          <span class="type">(<tt>String</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The referer URL to send.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:delay</span>
          <span class="type">(<tt>Integer</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>0</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>Duration in seconds to pause between spidering each link.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:schemes</span>
          <span class="type">(<tt>Array</tt>)</span>
          <span class="default">
            
              &mdash; default:
              <tt>[&#39;http&#39;</tt>, <tt>&#39;https&#39;]</tt>
            
          </span>
          
            &mdash; <div class='inline'><p>The list of acceptable URI schemes to visit.
The <code>https</code> scheme will be ignored if <code>net/https</code> cannot be
loaded.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:host</span>
          <span class="type">(<tt>String</tt>, <tt>nil</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The host-name to visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:hosts</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the host-names to visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ignore_hosts</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the host-names to not visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ports</span>
          <span class="type">(<tt>Array&lt;Integer, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the ports to visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ignore_ports</span>
          <span class="type">(<tt>Array&lt;Integer, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the ports to not visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:links</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the links to visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ignore_links</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the links to not visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:exts</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the URI path extensions to visit.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:ignore_exts</span>
          <span class="type">(<tt>Array&lt;String, Regexp, Proc&gt;</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'><p>The patterns which match the URI path extensions to not visit.</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>agent</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If a block is given, it will be passed the newly created web spider
agent.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>agent</span>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="" title="Ronin::Web::Spider::Agent (class)">Agent</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The newly created web spider agent.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://rubydoc.info/gems/spidr/Spidr/Agent#initialize-instance_method" target="_parent" title="https://rubydoc.info/gems/spidr/Spidr/Agent#initialize-instance_method">https://rubydoc.info/gems/spidr/Spidr/Agent#initialize-instance_method</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 98</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='label'>proxy:</span>      <span class='const'>Support</span><span class='op'>::</span><span class='const'>Network</span><span class='op'>::</span><span class='const'>HTTP</span><span class='period'>.</span><span class='id identifier rubyid_proxy'>proxy</span><span class='comma'>,</span>
               <span class='label'>user_agent:</span> <span class='const'>Support</span><span class='op'>::</span><span class='const'>Network</span><span class='op'>::</span><span class='const'>HTTP</span><span class='period'>.</span><span class='id identifier rubyid_user_agent'>user_agent</span><span class='comma'>,</span>
               <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span>
               <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_proxy'>proxy</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_proxy'>proxy</span>
          <span class='kw'>when</span> <span class='const'>Addressable</span><span class='op'>::</span><span class='const'>URI</span>
            <span class='const'>Spidr</span><span class='op'>::</span><span class='const'>Proxy</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
              <span class='label'>host:</span>     <span class='id identifier rubyid_proxy'>proxy</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span><span class='comma'>,</span>
              <span class='label'>port:</span>     <span class='id identifier rubyid_proxy'>proxy</span><span class='period'>.</span><span class='id identifier rubyid_port'>port</span><span class='comma'>,</span>
              <span class='label'>user:</span>     <span class='id identifier rubyid_proxy'>proxy</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='comma'>,</span>
              <span class='label'>password:</span> <span class='id identifier rubyid_proxy'>proxy</span><span class='period'>.</span><span class='id identifier rubyid_password'>password</span>
            <span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_proxy'>proxy</span>
          <span class='kw'>end</span>

  <span class='id identifier rubyid_user_agent'>user_agent</span> <span class='op'>=</span> <span class='kw'>case</span> <span class='id identifier rubyid_user_agent'>user_agent</span>
               <span class='kw'>when</span> <span class='const'>Symbol</span>
                 <span class='const'>Support</span><span class='op'>::</span><span class='const'>Network</span><span class='op'>::</span><span class='const'>HTTP</span><span class='op'>::</span><span class='const'>UserAgents</span><span class='lbracket'>[</span><span class='id identifier rubyid_user_agent'>user_agent</span><span class='rbracket'>]</span>
               <span class='kw'>else</span>
                 <span class='id identifier rubyid_user_agent'>user_agent</span>
               <span class='kw'>end</span>

  <span class='kw'>super</span><span class='lparen'>(</span><span class='label'>proxy:</span> <span class='id identifier rubyid_proxy'>proxy</span><span class='comma'>,</span> <span class='label'>user_agent:</span> <span class='id identifier rubyid_user_agent'>user_agent</span><span class='comma'>,</span> <span class='op'>**</span><span class='id identifier rubyid_kwargs'>kwargs</span><span class='comma'>,</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="collected_certs-instance_method">
  
    #<strong>collected_certs</strong>  &#x21d2; <tt>Array&lt;Ronin::Support::Crypto::Cert&gt;</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>All certificates encountered while spidering.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;Ronin::Support::Crypto::Cert&gt;</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


163
164
165</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 163</span>

<span class='kw'>def</span> <span class='id identifier rubyid_collected_certs'>collected_certs</span>
  <span class='ivar'>@collected_certs</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="visited_hosts-instance_method">
  
    #<strong>visited_hosts</strong>  &#x21d2; <tt>Set&lt;String&gt;</tt><sup>?</sup>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>The visited host names.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Set&lt;String&gt;</tt>, <tt>nil</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


129
130
131</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 129</span>

<span class='kw'>def</span> <span class='id identifier rubyid_visited_hosts'>visited_hosts</span>
  <span class='ivar'>@visited_hosts</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="every_cert-instance_method">
  
    #<strong>every_cert</strong> {|cert| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every unique TLS certificate to the given block and populates
<span class='object_link'><a href="#collected_certs-instance_method" title="Ronin::Web::Spider::Agent#collected_certs (method)">#collected_certs</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_cert'>every_cert</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_cert'>cert</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Discovered new cert for </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cert'>cert</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='period'>.</span><span class='id identifier rubyid_command_name'>command_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>, </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_cert'>cert</span><span class='period'>.</span><span class='id identifier rubyid_subject_alt_name'>subject_alt_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>cert</tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'></span>
      
      
        <span class='type'>(<tt>Ronin::Support::Crypto::Cert</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_cert'>every_cert</span>
  <span class='ivar'>@collected_certs</span> <span class='op'>||=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_serials'>serials</span> <span class='op'>=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_every_page'>every_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_scheme'>scheme</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>https</span><span class='tstring_end'>&#39;</span></span>
      <span class='id identifier rubyid_cert'>cert</span> <span class='op'>=</span> <span class='id identifier rubyid_sessions'>sessions</span><span class='lbracket'>[</span><span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_peer_cert'>peer_cert</span>

      <span class='kw'>if</span> <span class='id identifier rubyid_serials'>serials</span><span class='period'>.</span><span class='id identifier rubyid_add?'>add?</span><span class='lparen'>(</span><span class='id identifier rubyid_cert'>cert</span><span class='period'>.</span><span class='id identifier rubyid_serial'>serial</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cert'>cert</span> <span class='op'>=</span> <span class='const'>Support</span><span class='op'>::</span><span class='const'>Crypto</span><span class='op'>::</span><span class='const'>Cert</span><span class='lparen'>(</span><span class='id identifier rubyid_cert'>cert</span><span class='rparen'>)</span>

        <span class='ivar'>@collected_certs</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_cert'>cert</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_cert'>cert</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_comment-instance_method">
  
    #<strong>every_comment</strong> {|comment| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every HTML and JavaScript comment to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_comment'>every_comment</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each HTML or JavaScript comment.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the HTML or JavaScript comment
and the page that the HTML/JavaScript comment was found on will be
passed to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The contents of a HTML or JavaScript comment.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the HTML or JavaScript comment was found in or on.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><span class='object_link'><a href="#every_html_comment-instance_method" title="Ronin::Web::Spider::Agent#every_html_comment (method)">#every_html_comment</a></span></li>
    
      <li><span class='object_link'><a href="#every_javascript_comment-instance_method" title="Ronin::Web::Spider::Agent#every_javascript_comment (method)">#every_javascript_comment</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


665
666
667
668</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 665</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_comment'>every_comment</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_html_comment'>every_html_comment</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_comment'>every_javascript_comment</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_favicon-instance_method">
  
    #<strong>every_favicon</strong> {|favicon| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Pass every favicon from every page to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_favicon'>every_favicon</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
  <span class='comment'># ...
</span><span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>favicon</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed every encountered <code>.ico</code> file.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>favicon</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>An encountered <code>.ico</code> file.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li><a href="https://rubydoc.info/gems/spidr/Spidr/Page" target="_parent" title="https://rubydoc.info/gems/spidr/Spidr/Page">https://rubydoc.info/gems/spidr/Spidr/Page</a></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


217
218
219
220
221</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 217</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_favicon'>every_favicon</span>
  <span class='id identifier rubyid_every_page'>every_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>yield</span> <span class='id identifier rubyid_page'>page</span> <span class='kw'>if</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_icon?'>icon?</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_host-instance_method">
  
    #<strong>every_host</strong> {|host| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every unique host name that the agent visits to the given
block and populates <span class='object_link'><a href="#visited_hosts-instance_method" title="Ronin::Web::Spider::Agent#visited_hosts (method)">#visited_hosts</a></span>.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_host'>every_host</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_host'>host</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Spidring </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_host'>host</span><span class='embexpr_end'>}</span><span class='tstring_content'> ...</span><span class='tstring_end'>&quot;</span></span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../Spider.html#host-class_method" title="Ronin::Web::Spider.host (method)">host</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>host</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


146
147
148
149
150
151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_host'>every_host</span>
  <span class='ivar'>@visited_hosts</span> <span class='op'>||=</span> <span class='const'>Set</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_every_page'>every_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='id identifier rubyid_host'>host</span> <span class='op'>=</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_url'>url</span><span class='period'>.</span><span class='id identifier rubyid_host'>host</span>

    <span class='kw'>if</span> <span class='ivar'>@visited_hosts</span><span class='period'>.</span><span class='id identifier rubyid_add?'>add?</span><span class='lparen'>(</span><span class='id identifier rubyid_host'>host</span><span class='rparen'>)</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_host'>host</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_html_comment-instance_method">
  
    #<strong>every_html_comment</strong> {|comment| ... } &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every non-empty HTML comment to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_html_comment'>every_html_comment</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be pass every HTML comment.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the HTML comment and the page
that the comment was found on will be passed to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The HTML comment inner text, with leading and trailing whitespace
stripped.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the HTML comment exists on.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 247</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_html_comment'>every_html_comment</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_html_page'>every_html_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span>

    <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span><span class='period'>.</span><span class='id identifier rubyid_xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//comment()</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
      <span class='id identifier rubyid_comment_text'>comment_text</span> <span class='op'>=</span> <span class='id identifier rubyid_comment'>comment</span><span class='period'>.</span><span class='id identifier rubyid_inner_text'>inner_text</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>

      <span class='kw'>unless</span> <span class='id identifier rubyid_comment_text'>comment_text</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_comment_text'>comment_text</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
        <span class='kw'>else</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_comment_text'>comment_text</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript-instance_method">
  
    #<strong>every_javascript</strong> {|js| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js-instance_method'>every_js</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every piece of JavaScript to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript'>every_javascript</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_js'>js</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_js'>js</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>js</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed every piece of JavaScript source.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>js</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript source and the
page that the JavaScript source was found on will be passed to the
given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>js</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The JavaScript source code.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript source was found in or on.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 289</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript'>every_javascript</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='comment'># yield inner text of every `&lt;script type=&quot;text/javascript&quot;&gt;` tag
</span>  <span class='comment'># and every `.js` URL.
</span>  <span class='id identifier rubyid_every_html_page'>every_html_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>next</span> <span class='kw'>unless</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span>

    <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_doc'>doc</span><span class='period'>.</span><span class='id identifier rubyid_xpath'>xpath</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>//script[@type=&quot;text/javascript&quot;]</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_script'>script</span><span class='op'>|</span>
      <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_script'>script</span><span class='period'>.</span><span class='id identifier rubyid_inner_text'>inner_text</span>
      <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='rparen'>)</span>

      <span class='kw'>unless</span> <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
        <span class='kw'>else</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_source'>source</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_every_javascript_page'>every_javascript_page</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='id identifier rubyid_source'>source</span> <span class='op'>=</span> <span class='id identifier rubyid_page'>page</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span>
    <span class='id identifier rubyid_source'>source</span><span class='period'>.</span><span class='id identifier rubyid_force_encoding'>force_encoding</span><span class='lparen'>(</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>UTF_8</span><span class='rparen'>)</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_source'>source</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
    <span class='kw'>else</span>
      <span class='kw'>yield</span> <span class='id identifier rubyid_source'>source</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_absolute_path_string-instance_method">
  
    #<strong>every_javascript_absolute_path_string</strong> {|string| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_absolute_path_string-instance_method'>every_js_absolute_path_string</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript absolute path string to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_absolute_path_string'>every_javascript_absolute_path_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_absolute_path'>absolute_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_absolute_path'>absolute_path</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript absolute path string
with the quote marks removed.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript absolute path
string and the page that the JavaScript absolute path string was
found on will be passed to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parsed contents of a literal JavaScript absolute path string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript absolute path string was found in or
on.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


504
505
506
507
508
509
510
511
512
513
514</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 504</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_absolute_path_string'>every_javascript_absolute_path_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_string'>every_javascript_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>=~</span> <span class='const'><span class='object_link'><a href="#JAVASCRIPT_ABSOLUTE_PATH_REGEX-constant" title="Ronin::Web::Spider::Agent::JAVASCRIPT_ABSOLUTE_PATH_REGEX (constant)">JAVASCRIPT_ABSOLUTE_PATH_REGEX</a></span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
      <span class='kw'>else</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_comment-instance_method">
  
    #<strong>every_javascript_comment</strong> {|comment| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_comment-instance_method'>every_js_comment</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript comment to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_comment'>every_javascript_comment</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_comment'>comment</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript comment.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>comment</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript comment and the
page that the JavaScript comment was found on will be passed to the
given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>comment</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The contents of a JavaScript comment.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript comment was found in or on.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


624
625
626
627
628
629
630
631
632
633
634</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 624</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_comment'>every_javascript_comment</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript'>every_javascript</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_js'>js</span><span class='comma'>,</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='id identifier rubyid_js'>js</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='const'>Support</span><span class='op'>::</span><span class='const'>Text</span><span class='op'>::</span><span class='const'>Patterns</span><span class='op'>::</span><span class='const'>JAVASCRIPT_COMMENT</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_comment'>comment</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_comment'>comment</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
      <span class='kw'>else</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_comment'>comment</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_path_string-instance_method">
  
    #<strong>every_javascript_path_string</strong> {|string| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_path_string-instance_method'>every_js_path_string</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript path string to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_path_string'>every_javascript_path_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_path'>path</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_path'>path</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript path string with the
quote marks removed.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript path string and
the page that the JavaScript path string was found on will be
passed to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parsed contents of a literal JavaScript path string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript path string was found in or on.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


545
546
547
548</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 545</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_path_string'>every_javascript_path_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_relative_path_string'>every_javascript_relative_path_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_absolute_path_string'>every_javascript_absolute_path_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_relative_path_string-instance_method">
  
    #<strong>every_javascript_relative_path_string</strong> {|string| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_relative_path_string-instance_method'>every_js_relative_path_string</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript relative path string to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_relative_path_string'>every_javascript_relative_path_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_relative_path'>relative_path</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_relative_path'>relative_path</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript relative path string
with the quote marks removed.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript relative path
string and the page that the JavaScript relative path string was
found on will be passed to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parsed contents of a literal JavaScript relative path string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript relative path string was found in or
on.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


455
456
457
458
459
460
461
462
463
464
465</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 455</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_relative_path_string'>every_javascript_relative_path_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_string'>every_javascript_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>=~</span> <span class='const'><span class='object_link'><a href="#JAVASCRIPT_RELATIVE_PATH_REGEX-constant" title="Ronin::Web::Spider::Agent::JAVASCRIPT_RELATIVE_PATH_REGEX (constant)">JAVASCRIPT_RELATIVE_PATH_REGEX</a></span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
      <span class='kw'>else</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_string-instance_method">
  
    #<strong>every_javascript_string</strong> {|string| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_string-instance_method'>every_js_string</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript string value to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_string'>every_javascript_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_str'>str</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_str'>str</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript string with the quote
marks removed.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript string and the
page that the JavaScript string was found on will be passed to the
given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parsed contents of a JavaScript string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript string was found in or on.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 380</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_string'>every_javascript_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript'>every_javascript</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_js'>js</span><span class='comma'>,</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='id identifier rubyid_scanner'>scanner</span> <span class='op'>=</span> <span class='const'>StringScanner</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_js'>js</span><span class='rparen'>)</span>

    <span class='kw'>until</span> <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_eos?'>eos?</span>
      <span class='comment'># NOTE: this is a naive JavaScript string scanner and should
</span>      <span class='comment'># eventually be replaced with a real JavaScript lexer or parser.
</span>      <span class='kw'>case</span> <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_peek'>peek</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>&quot;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>&#39;</span><span class='tstring_end'>&quot;</span></span> <span class='comment'># beginning of a quoted string
</span>        <span class='id identifier rubyid_js_string'>js_string</span> <span class='op'>=</span> <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_scan'>scan</span><span class='lparen'>(</span><span class='const'>Support</span><span class='op'>::</span><span class='const'>Text</span><span class='op'>::</span><span class='const'>Patterns</span><span class='op'>::</span><span class='const'>STRING</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_string'>string</span>    <span class='op'>=</span> <span class='const'>Support</span><span class='op'>::</span><span class='const'>Encoding</span><span class='op'>::</span><span class='const'>JS</span><span class='period'>.</span><span class='id identifier rubyid_unquote'>unquote</span><span class='lparen'>(</span><span class='id identifier rubyid_js_string'>js_string</span><span class='rparen'>)</span>

        <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
        <span class='kw'>else</span>
          <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span>
        <span class='kw'>end</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#JAVASCRIPT_INLINE_REGEX_REGEX-constant" title="Ronin::Web::Spider::Agent::JAVASCRIPT_INLINE_REGEX_REGEX (constant)">JAVASCRIPT_INLINE_REGEX_REGEX</a></span></span><span class='rparen'>)</span> <span class='op'>||</span>
          <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_skip'>skip</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="#JAVASCRIPT_TEMPLATE_LITERAL_REGEX-constant" title="Ronin::Web::Spider::Agent::JAVASCRIPT_TEMPLATE_LITERAL_REGEX (constant)">JAVASCRIPT_TEMPLATE_LITERAL_REGEX</a></span></span><span class='rparen'>)</span> <span class='op'>||</span>
          <span class='id identifier rubyid_scanner'>scanner</span><span class='period'>.</span><span class='id identifier rubyid_getch'>getch</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="every_javascript_url_string-instance_method">
  
    #<strong>every_javascript_url_string</strong> {|string| ... } &#x21d2; <tt>Object</tt> 
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='every_js_url_string-instance_method'>every_js_url_string</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Passes every JavaScript URL string to the given block.</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h4 class="tag_title">Examples:</h4>
    
      
      <pre class="example code"><code><span class='id identifier rubyid_spider'>spider</span><span class='period'>.</span><span class='id identifier rubyid_every_javascript_url_string'>every_javascript_url_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_url'>url</span><span class='op'>|</span>
  <span class='id identifier rubyid_puts'>puts</span> <span class='id identifier rubyid_url'>url</span>
<span class='kw'>end</span></code></pre>
    
  </div>

<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The given block will be passed each JavaScript URL string with the
quote marks removed.</p>
</div>
      
    </li>
  
    <li>
      
      
        <span class='type'>(<tt>string</tt>, <tt>page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>If the block accepts two arguments, the JavaScript URL string and
the page that the JavaScript URL string was found on will be passed
to the given block.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Yield Parameters:</p>
<ul class="yieldparam">
  
    <li>
      
        <span class='name'>string</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The parsed contents of a literal JavaScript URL string.</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>page</span>
      
      
        <span class='type'>(<tt>Spidr::Page</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>The page that the JavaScript URL string was found in or on.</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>0.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


586
587
588
589
590
591
592
593
594
595
596</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ronin/web/spider/agent.rb', line 586</span>

<span class='kw'>def</span> <span class='id identifier rubyid_every_javascript_url_string'>every_javascript_url_string</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_every_javascript_string'>every_javascript_string</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_string'>string</span><span class='comma'>,</span><span class='id identifier rubyid_page'>page</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_string'>string</span> <span class='op'>=~</span> <span class='const'><span class='object_link'><a href="#URL_REGEX-constant" title="Ronin::Web::Spider::Agent::URL_REGEX (constant)">URL_REGEX</a></span></span>
      <span class='kw'>if</span> <span class='id identifier rubyid_block'>block</span><span class='period'>.</span><span class='id identifier rubyid_arity'>arity</span> <span class='op'>==</span> <span class='int'>2</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span><span class='comma'>,</span> <span class='id identifier rubyid_page'>page</span>
      <span class='kw'>else</span>
        <span class='kw'>yield</span> <span class='id identifier rubyid_string'>string</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Feb 14 22:32:34 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.3.6).
</div>

    </div>
  </body>
</html>